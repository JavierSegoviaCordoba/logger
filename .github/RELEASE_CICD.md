# Release to MavenCentral from GitHub Actions

## Steps:

### Prerequisites

  1. Generate key: `gpg --full-generate-key`
  2. Check key id: `gpg --list-signatures`
  3. Upload to server: `gpg --keyserver hkps://keys.openpgp.org --send-keys [keyId]`
  4. Show the private key: `gpg --armor --export-secret-keys [keyId]`

> You can use GPG Suite and its GUI to do the previous steps

### Versioning

You can change the version in the next file:

- [gradle.properties](/gradle.properties)

#### Releases

Push to master

#### Snapshots

Push to develop
      
### Configure CI/CD (GitHub)

#### GitHub secrets

  - KeyId as `gpgKeyName`
  - Passphrase as `gpgPassphrase`
  - Private key as `gpgKey`
    - Get the key using the command from point 4 in prerequisites.
  - Sonatype - Nexus user as `ossUser`
  - Sonatype - Nexus token as `ossToken`

#### GitHub workflow jobs

```
jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      - name: Maven publish
        env:
          ossUser: ${{ secrets.ossUser }}
          ossPass: ${{ secrets.ossPass }}
          gpgKeyName: ${{ secrets.gpgKeyName }}
          gpgPassphrase: ${{ secrets.gpgPassphrase }}
        run: ./gradlew publishAllPublicationsToMavenRepository -Psigning.gnupg.keyName=${{ secrets.gpgKeyName }} -Psigning.gnupg.passphrase=${{ secrets.gpgPassphrase }}
```
-----BEGIN PGP PRIVATE KEY BLOCK-----

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
u+a1ofxrOvkIkMSQ4jBLsesJW4vA/ylutzlI
=ZKTG
-----END PGP PRIVATE KEY BLOCK-----